(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,a){e.exports=a(273)},156:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(20),l=a.n(r),i=a(34),s=(a(150),a(21)),c=a(88),p=a(130),h=(a(155),a(156),a(27)),m=a(28),u=a(31),d=a(29),E=a(30),y=a(284),v=a(282),f=a(25),g=a(283),b=a(136),O=a(274),C=function(){return function(e){e({type:"REQUESTED"}),fetch("/artists").then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:"REQUESTED_SUCCEEDED",payload:e}}(t))},function(t){return e({type:"REQUESTED_FAILED"})})}},j=a(22),w=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).changeInput=function(){return e.setState({isOpened:!e.state.isOpened})},e.changeName=function(t){return e.setState({name:t.target.value})},e.changePhone=function(t){return e.setState({phone:t.target.value})},e.changeCompany=function(t){return e.setState({company:t.target.value})},e.changeEmail=function(t){return e.setState({email:t.target.value})},e.changePhoto=function(t){return e.setState({photo:t.target.value})},e.state={phone:"",name:"",company:"",email:"",photo:"",isOpened:!1},e.editData=e.editData.bind(Object(j.a)(e)),e.deleteData=e.deleteData.bind(Object(j.a)(e)),e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.setState({phone:this.props.phone,name:this.props.name,company:this.props.company,email:this.props.email,photo:this.props.photo})}},{key:"editData",value:function(){var e=this,t={phone:this.state.phone,name:this.state.name,company:this.state.company,email:this.state.email,photo:this.state.photo};fetch("/artists/"+this.props.id,{mode:"same-origin",method:"PUT",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){console.log("Successful"+t),console.log(e.props.id),e.props.dispatch(C())}),this.props.dispatch({type:"ACTIVE",payload:t}),this.props.dispatch({type:"OPEN",payload:!1})}},{key:"deleteData",value:function(){var e=this;fetch("/artists/"+this.props.id,{mode:"same-origin",method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){console.log("Successful"),e.props.dispatch(C())}),this.props.dispatch({type:"DELETE"})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(O.a,{style:{marginLeft:300},onClick:this.deleteData},o.a.createElement(f.a,{name:"delete"}),"Delete"),o.a.createElement(y.a,null,o.a.createElement(y.a.Row,null,o.a.createElement(y.a.Column,{width:5},o.a.createElement(v.a,{onChange:this.changePhone,placeholder:this.props.phone,value:this.state.phone}),o.a.createElement("br",null),o.a.createElement(v.a,{onChange:this.changeName,placeholder:this.props.name,value:this.state.name}),o.a.createElement("br",null),o.a.createElement(v.a,{onChange:this.changeCompany,placeholder:this.props.company,value:this.state.company}),o.a.createElement("br",null),o.a.createElement(v.a,{onChange:this.changeEmail,placeholder:this.props.email,value:this.state.email}),o.a.createElement("br",null),o.a.createElement(v.a,{onChange:this.changePhoto,placeholder:this.props.photo,value:this.state.photo}))),o.a.createElement(y.a.Row,null,o.a.createElement(y.a.Column,{width:6}),o.a.createElement(y.a.Column,{width:4},o.a.createElement(O.a,{positive:!0,onClick:this.editData},o.a.createElement(f.a,{name:"edit"}),"Edit"),o.a.createElement("br",null)))))}}]),t}(n.Component),D=Object(s.b)(function(e){return e})(w),S=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).changeInput=function(){console.log(a.props.name),a.props.dispatch({type:"OPEN",payload:!a.props.isOpened})},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e!==this.props}},{key:"render",value:function(){var e,t,a,n,r,l;void 0===this.props.name?e=t=a=n=r="":(e="Name: ",t="E-mail: ",a="Phone: ",r=this.props.isOpened?o.a.createElement(O.a,{positive:!0,style:{padding:15},onClick:this.changeInput},o.a.createElement(f.a,{name:"delete"}),"Close editor"):o.a.createElement(O.a,{positive:!0,onClick:this.changeInput},o.a.createElement(f.a,{name:"edit"})),n="Company: "),this.props.isOpened&&(l=o.a.createElement(D,{name:this.props.name,phone:this.props.phone,id:this.props.id,handler:this.handler,photo:this.props.photo,company:this.props.company,email:this.props.email}));var i=void 0===this.props.name?{name:"Mgdedh",phone:"+380638067953",company:"Hello! I glad to see you!",photo:"http://xrest.ru/schemes/00/09/8c/29/%D0%9B%D0%B2%D0%B5%D0%BD%D0%BE%D0%BA-1.jpg"}:this.props.detailSelector;return console.log(this.props.name),o.a.createElement("div",null,o.a.createElement(y.a,{className:"details"},o.a.createElement(y.a.Row,null,o.a.createElement(y.a.Column,{width:6},o.a.createElement("img",{style:{borderRadius:20,width:200},src:i.photo})),o.a.createElement(y.a.Column,{width:5},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("h3",null,e),o.a.createElement("h1",{style:{color:"green"}},i.name)),o.a.createElement("h4",null,a,"  ",i.phone),o.a.createElement("b",null,t," ",o.a.createElement("a",null,i.email)),o.a.createElement("br",null),n,o.a.createElement("h2",{style:{color:"red"}}," ",i.company)),o.a.createElement(y.a.Column,{width:3},r))),l)}}]),t}(n.Component),k=function(e){return e.activPersone},I=function(e){return e.isOpened},P=Object(c.a)(k,function(e){return e}),V=Object(s.b)(function(e){return{actualStore:k(e),detailSelector:P(e),isOpened:I(e)}})(S),T=(a(272),a(35)),U=function(e){var t=e.formErrors;return o.a.createElement("div",{className:"formErrors"},Object.keys(t).map(function(e,a){return t[e].length>0?o.a.createElement("p",{key:a},e," ",t[e]):""}))},R=function(e){function t(){var e,a;return Object(h.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this))).toggle=function(){a.setState({visible:!a.state.visible})},a.state=(e={phone:"",name:"",company:"",email:"",photo:"",visible:!1,formErrors:{email:"",phone:"",name:"",company:"",photo:""},phoneValid:!1,nameValid:!1,emailValid:!1,companyValid:!1},Object(T.a)(e,"emailValid",!1),Object(T.a)(e,"photoValid",!1),Object(T.a)(e,"formValid",!1),e),a.sendData=a.sendData.bind(Object(j.a)(a)),a.handleUserInput=a.handleUserInput.bind(Object(j.a)(a)),a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"handleUserInput",value:function(e){var t=this,a=e.target.name,n=e.target.value;this.setState(Object(T.a)({},a,n),function(){t.validateField(a,n)})}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,n=this.state.emailValid,o=this.state.nameValid,r=this.state.photoValid;switch(e){case"email":n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.email=n?"":" is invalid";break;case"phone":n=t.match(/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/),a.phone=n?"":" is invalid";break;case"name":o=t.length>=3,a.name=o?"":" is too short";break;case"photo":r=t.match(/^(ftp|http|https):\/\/[^ "]+$/),a.photo=r?"":" is invalid"}this.setState({formErrors:a,emailValid:n,nameValid:o,photoValid:r},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.emailValid&&this.state.nameValid})}},{key:"sendData",value:function(){var e=this,t=""==this.state.photo?"https://ava.eu.com/wp-content/uploads/2015/11/PH-default-avatar1.jpg":this.state.photo,a={phone:this.state.phone,name:this.state.name,company:this.state.company,email:this.state.email,photo:t};fetch("/artists",{mode:"same-origin",method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){console.log("Successful"+t),e.props.dispatch(C()),e.setState({phone:"",name:"",company:"",email:"",photo:"",visible:!1,formErrors:{email:"",phone:"",name:"",company:"",photo:""},formValid:!1})})}},{key:"render",value:function(){var e,t=o.a.createElement(O.a,{style:{marginTop:5,marginLeft:-50},positive:!0,onClick:this.toggle},o.a.createElement(f.a,{name:"plus"}),"Add To List");return this.state.visible&&(e=o.a.createElement(y.a,null,o.a.createElement("div",{style:{color:"red"},className:"panel panel-default"},o.a.createElement(U,{formErrors:this.state.formErrors})),o.a.createElement(y.a.Row,null,o.a.createElement(y.a.Column,{width:5},o.a.createElement(v.a,{onChange:this.handleUserInput,name:"phone",placeholder:"Phone",value:this.state.phone}),o.a.createElement("br",null),o.a.createElement(v.a,{onChange:this.handleUserInput,name:"name",placeholder:"Name/Surname",value:this.state.name}),o.a.createElement("br",null),o.a.createElement(v.a,{onChange:this.handleUserInput,name:"company",placeholder:"Company",value:this.state.company}),o.a.createElement("br",null),o.a.createElement(v.a,{onChange:this.handleUserInput,name:"email",placeholder:"Email",value:this.state.email}),o.a.createElement("br",null),o.a.createElement(v.a,{onChange:this.handleUserInput,name:"photo",placeholder:"URL for Photo",value:this.state.photo}))),o.a.createElement(y.a.Row,null,o.a.createElement(y.a.Column,{width:4}),o.a.createElement(y.a.Column,{width:8},o.a.createElement(O.a,{positive:!0,onClick:this.sendData,disabled:!this.state.formValid},o.a.createElement(f.a,{name:"plus"}),"Add")))),t=o.a.createElement(f.a,{style:{marginLeft:-50,cursor:"pointer"},name:"window close outline big",onClick:this.toggle})),o.a.createElement("div",null,t,o.a.createElement("br",null),o.a.createElement("br",null),e)}}]),t}(n.Component),N=Object(s.b)(function(e){return e})(R),L=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handlerChange=function(t){e.setState({searchString:t.target.value})},e.state={searchString:""},e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(C())}},{key:"render",value:function(){var e,t=this;e=void 0===this.props.activPersone?{}:this.props.activPersone;var a=this.props.users,n=this.state.searchString.trim().toLowerCase();return n.length>0&&(a=a.filter(function(e){return e.name.toLowerCase().match(n)})),o.a.createElement("div",{className:"App"},o.a.createElement(y.a,{columns:3},o.a.createElement(y.a.Row,null,o.a.createElement(y.a.Column,{width:4},o.a.createElement("div",null,o.a.createElement(v.a,{focus:!0,placeholder:"Search...",onChange:this.handlerChange})," ",o.a.createElement(f.a,{name:"search plus"}),this.props.loading?o.a.createElement("p",null,"Loading..."):this.props.error?o.a.createElement("p",null,"Error, try again"):o.a.createElement("div",null,o.a.createElement(g.a,{style:{cursor:"pointer"}},a.map(function(e,a){return o.a.createElement(g.a.Item,{onClick:function(){t.setState({activePerson:e}),t.props.dispatch({type:"ACTIVE",payload:e}),t.props.dispatch({type:"OPEN",payload:!1})},key:a},o.a.createElement(b.a,{avatar:!0,style:{width:50,height:50,borderRadius:25},src:e.photo}),o.a.createElement(g.a.Content,null,e.phone,o.a.createElement("br",null),o.a.createElement("b",null,e.name," ",o.a.createElement("br",null),o.a.createElement("span",{style:{color:"red"}},e.company)),o.a.createElement(g.a.Header,{as:"a"},e.email)))}))))),o.a.createElement(y.a.Column,{width:4},o.a.createElement(N,null)),o.a.createElement(y.a.Column,{width:8},o.a.createElement(V,{name:e.name,phone:e.phone,id:e._id,isOpened:this.state.isOpened,photo:e.photo,company:e.company,email:e.email})))))}}]),t}(n.Component),A=Object(s.b)(function(e){return console.log(e),e})(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(67),_=a(66),F={users:[],loading:!1,error:!1,test:5,activPersone:{},isOpened:!1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUESTED":return Object(_.a)({},e,{loading:!0,error:!1});case"REQUESTED_SUCCEEDED":return Object(_.a)({},e,{users:t.payload,loading:!1,error:!1,isOpened:!1});case"REQUESTED_FAILED":return{loading:!1,error:!0};case"EDIT":return{users:Object(B.a)(e.users),phone:t.payload.phone,name:t.payload.name,company:t.payload.company,email:t.payload.email,photo:t.payload.photo};case"ACTIVE":return{users:Object(B.a)(e.users),activPersone:t.payload};case"DELETE":return{users:Object(B.a)(e.users),activPersone:{}};case"OPEN":return Object(_.a)({},e,{isOpened:t.payload});default:return e}},J=Object(i.createStore)(Q,Object(i.applyMiddleware)(p.a));l.a.render(o.a.createElement(s.a,{store:J},o.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[145,1,2]]]);
//# sourceMappingURL=main.5ea5a0c3.chunk.js.map